<header class="  shadow-sm ">
            <nav class=" bg-secondary sticky top-0 z-50 ">
                <div class="flex items-center justify-between h-20 main-container mx-auto md:px-16">
                    <!-- Logo Section -->
                    <div class="flex-shrink-0">
                        <a
                            href="./index.html"
                            class="text-3xl font text-primary"
                            >VISIT NUSA</a
                        >
                    </div>

                    <!-- Desktop Navigation & Icons - Hidden on mobile -->
                    <div
                        class="hidden md:flex flex-grow justify-center font-normal"
                    >
                        <ul class="flex space-x-8">
                            <li>
                                <a
                                    href="./listing-loker.html"
                                    class="nav-underline transition-colors text-white hover:text-primary"
                                    >Beranda</a
                                >
                            </li>
                            <li>
                                <a
                                    href="#"
                                    class="nav-underline transition-colors text-white hover:text-primary"
                                    >Paket Wisata</a
                                >
                            </li>
                            <li>
                                <a
                                    href="./lamaran-saya.html"
                                    class="nav-underline transition-colors text-white hover:text-primary"
                                    >Layanan</a
                                >
                            </li>
                            <li>
                                <a
                                    href="./listing-perusahaan.html"
                                    class="nav-underline transition-colors text-white hover:text-primary"
                                    >Inspirasi Perjalanan</a
                                >
                            </li>
                            <li>
                                <a
                                    href="./listing-artikel.html"
                                    class="nav-underline transition-colors text-white hover:text-primary"
                                    >Panduan</a
                                >
                            </li>
                        </ul>
                    </div>

                    <!-- Desktop Icons - Hidden on mobile -->
                    <div class="hidden md:flex items-center space-x-10">
                        <!-- Cart -->
                        <div
                            class="flex flex-col items-center cursor-pointer hover:text-primary transition"
                        >
                            <!-- Icon Cart - Masukan icon cart disini -->
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="22"
                                height="21"
                                viewBox="0 0 22 21"
                                fill="none"
                            >
                                <path
                                    d="M1.25 1.5H2.63568C3.14537 1.5 3.59138 1.84265 3.7227 2.33513L4.1059 3.77209M6.5 12.75C4.84315 12.75 3.5 14.0931 3.5 15.75H19.25M6.5 12.75H17.7183C18.8394 10.4494 19.8177 8.06635 20.6417 5.6125C15.88 4.39646 10.8905 3.75 5.75 3.75C5.20021 3.75 4.65214 3.7574 4.1059 3.77209M6.5 12.75L4.1059 3.77209M5 18.75C5 19.1642 4.66421 19.5 4.25 19.5C3.83579 19.5 3.5 19.1642 3.5 18.75C3.5 18.3358 3.83579 18 4.25 18C4.66421 18 5 18.3358 5 18.75ZM17.75 18.75C17.75 19.1642 17.4142 19.5 17 19.5C16.5858 19.5 16.25 19.1642 16.25 18.75C16.25 18.3358 16.5858 18 17 18C17.4142 18 17.75 18.3358 17.75 18.75Z"
                                    stroke="white"
                                    stroke-width="1.5"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                            </svg>
                            <span class="text-white mt-1.5 text-sm font-normal"
                                >Cart</span
                            >
                        </div>

                        <!-- Favorit -->
                        <div
                            class="flex flex-col items-center cursor-pointer hover:text-primary transition"
                        >
                            <!-- Icon Heart - Masukan icon heart disini -->
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="20"
                                height="19"
                                viewBox="0 0 20 19"
                                fill="none"
                            >
                                <path
                                    d="M19 5.75C19 3.26472 16.9013 1.25 14.3125 1.25C12.3769 1.25 10.7153 2.37628 10 3.98342C9.28472 2.37628 7.62312 1.25 5.6875 1.25C3.09867 1.25 1 3.26472 1 5.75C1 12.9706 10 17.75 10 17.75C10 17.75 19 12.9706 19 5.75Z"
                                    stroke="white"
                                    stroke-width="1.5"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                            </svg>
                            <span class="text-white mt-1.5 text-sm font-normal"
                                >Favorit</span
                            >
                        </div>

                        <!-- Currency -->
                        <div
                            class="flex flex-col items-center cursor-pointer hover:text-primary transition"
                        >
                            <!-- Icon Globe - Masukan icon globe disini -->
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="20"
                                height="20"
                                viewBox="0 0 20 20"
                                fill="none"
                            >
                                <path
                                    d="M10 19C14.1926 19 17.7156 16.1332 18.7157 12.2529M10 19C5.80742 19 2.28442 16.1332 1.2843 12.2529M10 19C12.4853 19 14.5 14.9706 14.5 10C14.5 5.02944 12.4853 1 10 1M10 19C7.51472 19 5.5 14.9706 5.5 10C5.5 5.02944 7.51472 1 10 1M10 1C13.3652 1 16.299 2.84694 17.8431 5.58245M10 1C6.63481 1 3.70099 2.84694 2.15692 5.58245M17.8431 5.58245C15.7397 7.40039 12.9983 8.5 10 8.5C7.00172 8.5 4.26027 7.40039 2.15692 5.58245M17.8431 5.58245C18.5797 6.88743 19 8.39463 19 10C19 10.778 18.9013 11.5329 18.7157 12.2529M18.7157 12.2529C16.1334 13.6847 13.1619 14.5 10 14.5C6.8381 14.5 3.86662 13.6847 1.2843 12.2529M1.2843 12.2529C1.09871 11.5329 1 10.778 1 10C1 8.39463 1.42032 6.88743 2.15692 5.58245"
                                    stroke="white"
                                    stroke-width="1.5"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                            </svg>
                            <span class="text-white mt-1.5 text-sm font-normal"
                                >ID/IDR Rp</span
                            >
                        </div>

                        <!-- Profile with Dropdown -->
                        <div class="relative" id="profile-dropdown">
                            <div
                                class="flex flex-col items-center cursor-pointer hover:text-primary transition"
                                id="profile-trigger"
                            >
                                <!-- Icon Profile - Masukan icon profile disini -->
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="22"
                                    height="19"
                                    viewBox="0 0 22 19"
                                    fill="none"
                                >
                                    <path
                                        d="M16.058 12.771C16.5258 12.4515 17.0745 12.2711 17.6406 12.2504C18.2067 12.2298 18.767 12.3699 19.2568 12.6544C19.7466 12.939 20.1459 13.3564 20.4083 13.8584C20.6708 14.3604 20.7858 14.9264 20.74 15.491C19.5402 15.9103 18.2658 16.0735 16.999 15.97C16.9951 14.8366 16.6687 13.7268 16.058 12.772C15.5159 11.9218 14.7681 11.222 13.8838 10.7375C12.9996 10.253 12.0073 9.99932 10.999 10C9.99085 9.99948 8.99884 10.2532 8.11474 10.7377C7.23064 11.2223 6.48301 11.9219 5.94101 12.772C5.40235 13.7269 5.0026 14.8357 4.99901 15.969M4.99901 15.969C3.73264 16.0763 2.45892 15.9137 1.26001 15.492C1.21436 14.9276 1.3294 14.3617 1.59184 13.8599C1.85427 13.3581 2.25338 12.9408 2.74301 12.6563C3.23264 12.3718 3.7928 12.2317 4.35873 12.2521C4.92465 12.2726 5.47322 12.4528 5.94101 12.772M4.99901 15.969C5.0026 14.8357 5.33063 13.7269 5.94101 12.772M13.999 4C13.999 4.79565 13.6829 5.55871 13.1203 6.12132C12.5577 6.68393 11.7947 7 10.999 7C10.2034 7 9.4403 6.68393 8.87769 6.12132C8.31508 5.55871 7.99901 4.79565 7.99901 4C7.99901 3.20435 8.31508 2.44129 8.87769 1.87868C9.4403 1.31607 10.2034 1 10.999 1C11.7947 1 12.5577 1.31607 13.1203 1.87868C13.6829 2.44129 13.999 3.20435 13.999 4ZM19.999 7C19.999 7.29547 19.9408 7.58806 19.8277 7.86104C19.7147 8.13402 19.5489 8.38206 19.34 8.59099C19.1311 8.79992 18.883 8.96566 18.61 9.07873C18.3371 9.1918 18.0445 9.25 17.749 9.25C17.4535 9.25 17.161 9.1918 16.888 9.07873C16.615 8.96566 16.3669 8.79992 16.158 8.59099C15.9491 8.38206 15.7834 8.13402 15.6703 7.86104C15.5572 7.58806 15.499 7.29547 15.499 7C15.499 6.40326 15.7361 5.83097 16.158 5.40901C16.58 4.98705 17.1523 4.75 17.749 4.75C18.3457 4.75 18.918 4.98705 19.34 5.40901C19.762 5.83097 19.999 6.40326 19.999 7ZM6.49901 7C6.49901 7.29547 6.44081 7.58806 6.32774 7.86104C6.21466 8.13402 6.04893 8.38206 5.84 8.59099C5.63107 8.79992 5.38303 8.96566 5.11005 9.07873C4.83706 9.1918 4.54448 9.25 4.24901 9.25C3.95353 9.25 3.66095 9.1918 3.38797 9.07873C3.11499 8.96566 2.86695 8.79992 2.65802 8.59099C2.44909 8.38206 2.28335 8.13402 2.17028 7.86104C2.05721 7.58806 1.99901 7.29547 1.99901 7C1.99901 6.40326 2.23606 5.83097 2.65802 5.40901C3.07998 4.98705 3.65227 4.75 4.24901 4.75C4.84575 4.75 5.41804 4.98705 5.84 5.40901C6.26196 5.83097 6.49901 6.40326 6.49901 7Z"
                                        stroke="white"
                                        stroke-width="1.5"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                </svg>
                                @auth
                                    <span class="text-white mt-1.5 text-sm font-normal">
                                        {{ \Str::limit(explode(' ', Auth::user()->name)[0], 7, '...') }}
                                    </span>
                                @else
                                    <span class="text-white mt-1.5 text-sm font-normal">Profile</span>
                                @endauth
                            </div>

                            <!-- Dropdown Menu -->
                            <div
                                id="dropdown-menu"
                                class="absolute right-0 top-full mt-2 w-96 max-h-[60vh] overflow-y-auto bg-white rounded-lg shadow-xl opacity-0 invisible transform scale-95 transition-all duration-200 z-50 border border-gray-100"
                            >
                                <div class="p-6">
                                    <!-- Header -->
                                    <div class="mb-6">
                                        <h3
                                            class="text-xl font-semibold text-gray-800 mb-1"
                                        >
                                            Profile
                                        </h3>
                                        <p class="text-sm text-gray-500">
                                            Kelola akun dan preferensi Anda
                                        </p>
                                    </div>

                                    <!-- Menu Items -->
                                    <div class="space-y-3">
                                        <!-- Login/Sign up - Hanya tampil jika belum login -->
                                        @guest
                                        <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors group" data-modal="auth">
                                            <div class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors">
                                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-sm font-medium text-gray-800">Log in or sign up</div>
                                                <div class="text-xs text-gray-500">Akses fitur lengkap</div>
                                            </div>
                                            <div class="text-gray-400">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                                </svg>
                                            </div>
                                        </div>
                                        @endguest

                                        <!-- Settings -->
                                        <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors group">
                                            <div
                                                class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors"
                                            >
                                                <!-- Icon Settings - Masukan icon settings disini -->
                                                <svg
                                                    class="w-4 h-4"
                                                    fill="currentColor"
                                                    viewBox="0 0 20 20"
                                                >
                                                    <path
                                                        fill-rule="evenodd"
                                                        d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                                                        clip-rule="evenodd"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <div
                                                    class="text-sm font-medium text-gray-800"
                                                >
                                                    Settings
                                                </div>
                                                <div
                                                    class="text-xs text-gray-500"
                                                >
                                                    Pengaturan umum
                                                </div>
                                            </div>
                                            <div class="text-gray-400">
                                                <!-- Icon Arrow Right - Masukan icon arrow right disini -->
                                                <svg
                                                    class="w-4 h-4"
                                                    fill="none"
                                                    stroke="currentColor"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M9 5l7 7-7 7"
                                                    />
                                                </svg>
                                            </div>
                                        </div>

                                        <!-- Appearance -->
                                        <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors group">
                                            <div
                                                class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors"
                                            >
                                                <!-- Icon Sun/Moon - Masukan icon appearance disini -->
                                                <svg
                                                    class="w-4 h-4"
                                                    fill="currentColor"
                                                    viewBox="0 0 20 20"
                                                >
                                                    <path
                                                        fill-rule="evenodd"
                                                        d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                                        clip-rule="evenodd"
                                                    />
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <div
                                                    class="text-sm font-medium text-gray-800"
                                                >
                                                    Appearance
                                                </div>
                                                <div
                                                    class="text-xs text-gray-500"
                                                >
                                                    Always light
                                                </div>
                                            </div>
                                            <div class="text-gray-400">
                                                <!-- Icon Arrow Right - Masukan icon arrow right disini -->
                                                <svg
                                                    class="w-4 h-4"
                                                    fill="none"
                                                    stroke="currentColor"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M9 5l7 7-7 7"
                                                    />
                                                </svg>
                                            </div>
                                        </div>

                                        <!-- Logout - Hanya tampil jika sudah login -->
                                        @auth
                                            <form action="{{ route('auth.logout') }}" method="POST" id="logout-form">
                                                @csrf
                                                <button type="submit" class="flex w-full items-center text-left gap-3 p-3 rounded-lg hover:bg-red-50 cursor-pointer transition-colors group text-red-600">
                                                    <div class="w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-500 group-hover:text-white transition-colors">
                                                        <!-- Icon Logout - Masukan icon logout disini -->
                                                        <svg
                                                            class="w-4 h-4"
                                                            fill="currentColor"
                                                            viewBox="0 0 20 20"
                                                        >
                                                            <path
                                                                fill-rule="evenodd"
                                                                d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                                                                clip-rule="evenodd"
                                                            />
                                                        </svg>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium">Logout</div>
                                                        <div class="text-xs text-red-400">Keluar dari akun</div>
                                                    </div>
                                                </button>
                                            </form>
                                        @endauth
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile Menu Button -->
                    <button
                        class="md:hidden p-2 transition-colors text-white hover:text-primary"
                        id="mobile-menu-button"
                    >
                        <!-- Icon Hamburger - Masukan icon hamburger disini -->
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"
                            />
                        </svg>
                    </button>
                </div>
            </nav>

            <!-- Mobile Sidebar -->
            <div
                id="mobile-sidebar"
                class="fixed inset-0 z-50 flex md:hidden pointer-events-none"
            >
                <!-- Overlay -->
                <div
                    id="sidebar-overlay"
                    class="bg-black bg-opacity-50 w-full h-full transition-opacity duration-300 opacity-0"
                ></div>

                <!-- Sidebar Panel -->
                <div
                    class="fixed right-0 top-0 z-50 w-full h-full bg-white shadow-lg transform translate-x-full transition-transform duration-300 flex flex-col"
                    id="sidebar-panel"
                >
                    <!-- Header -->
                    <div
                        class="flex items-center justify-between px-6 py-5 border-b bg-secondary"
                    >
                        <div class="flex items-center gap-3">
                            <!-- Logo placeholder -->
                            <div
                                class="h-10 w-10 bg-primary rounded-lg flex items-center justify-center text-secondary font-bold text-lg"
                            >
                                VN
                            </div>
                            <a
                                href="./index.html"
                                class="text-2xl font-bold text-primary"
                                >VISIT NUSA</a
                            >
                        </div>
                        <!-- Close Button -->
                        <button
                            id="sidebar-close"
                            class="p-2 text-white hover:text-primary transition-colors"
                        >
                            <!-- Icon Close - Masukan icon close disini -->
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-6 w-6"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"
                                />
                            </svg>
                        </button>
                    </div>

                    <!-- Navigation -->
                    <nav
                        class="flex-1 px-6 py-6 space-y-1 text-base font-normal max-h-[80vh] overflow-y-auto"
                    >
                        <a
                            href="./listing-loker.html"
                            class="flex items-center gap-3 py-3 px-4 rounded-lg hover:bg-gray-100 text-gray-700 hover:text-primary transition"
                        >
                            <!-- Icon Home - Masukan icon home disini -->
                            <div class="w-5 h-5 text-gray-400">
                                <svg fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
                                    />
                                </svg>
                            </div>
                            Beranda
                        </a>
                        <a
                            href="#"
                            class="flex items-center gap-3 py-3 px-4 rounded-lg hover:bg-gray-100 text-gray-700 hover:text-primary transition"
                        >
                            <!-- Icon Package - Masukan icon package disini -->
                            <div class="w-5 h-5 text-gray-400">
                                <svg fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        fill-rule="evenodd"
                                        d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                                        clip-rule="evenodd"
                                    />
                                </svg>
                            </div>
                            Layanan
                        </a>
                        <a
                            href="./listing-perusahaan.html"
                            class="flex items-center gap-3 py-3 px-4 rounded-lg hover:bg-gray-100 text-gray-700 hover:text-primary transition"
                        >
                            <!-- Icon Inspiration - Masukan icon inspiration disini -->
                            <div class="w-5 h-5 text-gray-400">
                                <svg fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                                    />
                                </svg>
                            </div>
                            Inspirasi Perjalanan
                        </a>
                        <a
                            href="./listing-artikel.html"
                            class="flex items-center gap-3 py-3 px-4 rounded-lg hover:bg-gray-100 text-gray-700 hover:text-primary transition"
                        >
                            <!-- Icon Guide - Masukan icon guide disini -->
                            <div class="w-5 h-5 text-gray-400">
                                <svg fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"
                                    />
                                </svg>
                            </div>
                            Panduan
                        </a>
                    </nav>

                    <!-- Mobile Profile Section -->
                    <div class="px-6 py-4 border-t bg-gray-50">
                        <h4 class="text-sm font-medium text-gray-700 mb-3">Akun</h4>
                        <div class="space-y-1">
                            <!-- Login/Sign up Mobile - Hanya tampil jika belum login -->
                            @guest
                            <a href="#" class="flex items-center gap-3 py-2 px-3 rounded-lg hover:bg-white text-gray-700 hover:text-primary transition" data-modal="auth">
                                <div class="w-4 h-4 text-gray-400">
                                    <svg fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <span class="text-sm">Log in or sign up</span>
                            </a>
                            @endguest

                            <!-- Settings Mobile -->
                            <a
                                href="#"
                                class="flex items-center gap-3 py-2 px-3 rounded-lg hover:bg-white text-gray-700 hover:text-primary transition"
                            >
                                <!-- Icon Settings - Masukan icon settings disini -->
                                <div class="w-4 h-4 text-gray-400">
                                    <svg
                                        fill="currentColor"
                                        viewBox="0 0 20 20"
                                    >
                                        <path
                                            fill-rule="evenodd"
                                            d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                                            clip-rule="evenodd"
                                        />
                                    </svg>
                                </div>
                                <span class="text-sm">Settings</span>
                            </a>

                            <!-- Appearance Mobile -->
                            <div
                                class="flex items-center justify-between py-2 px-3"
                            >
                                <div class="flex items-center gap-3">
                                    <!-- Icon Appearance - Masukan icon appearance disini -->
                                    <div class="w-4 h-4 text-gray-400">
                                        <svg
                                            fill="currentColor"
                                            viewBox="0 0 20 20"
                                        >
                                            <path
                                                fill-rule="evenodd"
                                                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                                clip-rule="evenodd"
                                            />
                                        </svg>
                                    </div>
                                    <span class="text-sm text-gray-700"
                                        >Appearance</span
                                    >
                                </div>
                                <!-- Toggle Switch -->
                                <button
                                    class="relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"
                                    id="theme-toggle"
                                >
                                    <span
                                        class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform translate-x-1"
                                    ></span>
                                </button>
                            </div>

                            <!-- Logout Mobile - Hanya tampil jika sudah login -->
                            @auth
                            <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();" class="flex items-center gap-3 py-2 px-3 rounded-lg hover:bg-red-50 text-red-600 hover:text-red-700 transition">
                                <!-- Icon Logout - Masukan icon logout disini -->
                                <div class="w-4 h-4">
                                    <svg
                                        fill="currentColor"
                                        viewBox="0 0 20 20"
                                    >
                                        <path
                                            fill-rule="evenodd"
                                            d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                                            clip-rule="evenodd"
                                        />
                                    </svg>
                                </div>
                                <span class="text-sm">Logout</span>
                            </a>
                            @endauth
                        </div>
                    </div>
                </div>
            </div>

            <!-- Auth Modal -->
<div id="auth-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black bg-opacity-50"></div>
    
    <div class="relative min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md p-6">
            <!-- Header -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-semibold text-gray-800">Sign in or sign up</h2>
                <button id="close-auth-modal" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Content -->
            <div class="space-y-6">
                <!-- Google Login Button -->
<!-- Di dalam auth modal, update tombol Google -->
<button onclick="loginWithGoogle()" class="w-full flex items-center justify-center gap-3 bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition">
    <img src="{{ asset('img/google-icon.svg') }}" alt="Google" class="w-5 h-5">
    <span>Continue with Google</span>
</button>

                <!-- Divider -->
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-200"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white text-gray-500">or</span>
                    </div>
                </div>

                <!-- Email Form -->
                <form id="email-form" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email address</label>
                        <input type="email" id="email-input" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Enter your email">
                    </div>
                    
                    <button type="submit" class="w-full bg-primary text-white rounded-lg px-4 py-3 font-medium hover:bg-primary-dark transition">
                        Continue with email
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- OTP Modal -->
<div id="otp-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black bg-opacity-50"></div>
    
    <div class="relative min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md p-6">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Enter verification code</h2>
            <p class="text-gray-600 mb-6">We've sent a code to your email</p>
            
            <form id="otp-form" class="space-y-6">
                <div class="flex gap-2 justify-between">
                    <input type="text" maxlength="1" class="w-12 h-12 text-center border border-gray-300 rounded-lg text-xl focus:ring-2 focus:ring-primary focus:border-transparent" />
                    <input type="text" maxlength="1" class="w-12 h-12 text-center border border-gray-300 rounded-lg text-xl focus:ring-2 focus:ring-primary focus:border-transparent" />
                    <input type="text" maxlength="1" class="w-12 h-12 text-center border border-gray-300 rounded-lg text-xl focus:ring-2 focus:ring-primary focus:border-transparent" />
                    <input type="text" maxlength="1" class="w-12 h-12 text-center border border-gray-300 rounded-lg text-xl focus:ring-2 focus:ring-primary focus:border-transparent" />
                    <input type="text" maxlength="1" class="w-12 h-12 text-center border border-gray-300 rounded-lg text-xl focus:ring-2 focus:ring-primary focus:border-transparent" />
                    <input type="text" maxlength="1" class="w-12 h-12 text-center border border-gray-300 rounded-lg text-xl focus:ring-2 focus:ring-primary focus:border-transparent" />
                </div>
                
                <button type="submit" class="w-full bg-primary text-white rounded-lg px-4 py-3 font-medium">
                    Verify
                </button>
            </form>
        </div>
    </div>
</div>

@push('scripts')
<script>
    // Profile dropdown functionality
    const profileTrigger = document.getElementById("profile-trigger");
    const dropdownMenu = document.getElementById("dropdown-menu");
    const profileDropdown = document.getElementById("profile-dropdown");

    let isHovering = false;

    function showDropdown() {
        dropdownMenu.classList.remove(
            "opacity-0",
            "invisible",
            "scale-95"
        );
        dropdownMenu.classList.add(
            "opacity-100",
            "visible",
            "scale-100"
        );
    }

    function hideDropdown() {
        dropdownMenu.classList.remove(
            "opacity-100",
            "visible",
            "scale-100"
        );
        dropdownMenu.classList.add(
            "opacity-0",
            "invisible",
            "scale-95"
        );
    }

    profileDropdown.addEventListener("mouseenter", () => {
        isHovering = true;
        setTimeout(() => {
            if (isHovering) {
                showDropdown();
            }
        }, 100);
    });

    profileDropdown.addEventListener("mouseleave", () => {
        isHovering = false;
        setTimeout(() => {
            if (!isHovering) {
                hideDropdown();
            }
        }, 100);
    });

    // Mobile sidebar functionality
    const mobileMenuButton =
        document.getElementById("mobile-menu-button");
    const mobileSidebar = document.getElementById("mobile-sidebar");
    const sidebarOverlay = document.getElementById("sidebar-overlay");
    const sidebarPanel = document.getElementById("sidebar-panel");
    const sidebarClose = document.getElementById("sidebar-close");

    function openSidebar() {
        mobileSidebar.classList.remove("pointer-events-none");
        sidebarOverlay.classList.remove("opacity-0");
        sidebarPanel.classList.remove("translate-x-full");
        document.body.classList.add("overflow-hidden");
    }

    function closeSidebar() {
        sidebarOverlay.classList.add("opacity-0");
        sidebarPanel.classList.add("translate-x-full");
        setTimeout(() => {
            mobileSidebar.classList.add("pointer-events-none");
            document.body.classList.remove("overflow-hidden");
        }, 300);
    }

    mobileMenuButton.addEventListener("click", openSidebar);
    sidebarClose.addEventListener("click", closeSidebar);
    sidebarOverlay.addEventListener("click", closeSidebar);

    // Auth Modal functionality
    document.addEventListener('DOMContentLoaded', function() {
        // Auth Modal Toggle
        const loginButton = document.querySelector('[data-modal="auth"]');
        const authModal = document.getElementById('auth-modal');
        const closeAuthModal = document.getElementById('close-auth-modal');
        const otpModal = document.getElementById('otp-modal');

        // Show auth modal
        loginButton.addEventListener('click', () => {
            authModal.classList.remove('hidden');
        });

        // Close auth modal
        closeAuthModal.addEventListener('click', () => {
            authModal.classList.add('hidden');
        });

        // Handle email form submission
        const emailForm = document.getElementById('email-form');
        emailForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('email-input').value;

            try {
                const response = await fetch('/auth/email/send-otp', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').content
                    },
                    body: JSON.stringify({ email })
                });

                if (response.ok) {
                    authModal.classList.add('hidden');
                    otpModal.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });

        // Handle OTP form submission
        const otpForm = document.getElementById('otp-form');
        const otpInputs = otpForm.querySelectorAll('input');

        // Auto-focus next input
        otpInputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                if (e.target.value && index < otpInputs.length - 1) {
                    otpInputs[index + 1].focus();
                }
            });

            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && !e.target.value && index > 0) {
                    otpInputs[index - 1].focus();
                }
            });
        });

        otpForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const otp = Array.from(otpInputs).map(input => input.value).join('');
            const email = document.getElementById('email-input').value;

            try {
                const response = await fetch('/auth/email/verify-otp', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').content
                    },
                    body: JSON.stringify({ 
                        email,
                        otp 
                    })
                });

                if (response.ok) {
                    window.location.reload();
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });
    });

    // Theme toggle functionality (mobile)
    const themeToggle = document.getElementById("theme-toggle");
    const toggleSpan = themeToggle.querySelector("span");

    let isDark = false;

    themeToggle.addEventListener("click", () => {
        isDark = !isDark;
        if (isDark) {
            themeToggle.classList.add("bg-primary");
            themeToggle.classList.remove("bg-gray-200");
            toggleSpan.classList.add("translate-x-6");
            toggleSpan.classList.remove("translate-x-1");
        } else {
            themeToggle.classList.remove("bg-primary");
            themeToggle.classList.add("bg-gray-200");
            toggleSpan.classList.remove("translate-x-6");
            toggleSpan.classList.add("translate-x-1");
        }
    });

    // Close dropdown when clicking outside
    document.addEventListener("click", (event) => {
        if (!profileDropdown.contains(event.target)) {
            hideDropdown();
        }
    });

    // Handle window resize
    window.addEventListener("resize", () => {
        if (window.innerWidth >= 768) {
            closeSidebar();
        }
    });

    // Prevent body scroll when sidebar is open
    document.addEventListener(
        "touchmove",
        (e) => {
            if (document.body.classList.contains("overflow-hidden")) {
                e.preventDefault();
            }
        },
        { passive: false }
    );

    // Update fungsi loginWithGoogle
    window.loginWithGoogle = function() {
        window.location.href = "{{ route('auth.google') }}";
    };

    // Update tombol Google di modal
    document.querySelector('[onclick="loginWithGoogle()"]').addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = "{{ route('auth.google') }}";
    });

    // Logout handling
    document.getElementById('logout-form')?.addEventListener('submit', function(e) {
    e.preventDefault();
    
    if (confirm('Apakah Anda yakin ingin logout?')) {
        this.submit();
    }
});
</script>
@endpush